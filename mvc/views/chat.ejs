<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link href="/css/all.min.css" rel="stylesheet">
  <link href="/css/fontawesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <title>VanTiennn</title>
</head>
<body>
  
  <div class="container mt-5 pd-5">
    <div class="overlay" hidden></div>
    <div class="dialog" id="dialog" hidden>
      <!-- <i class="fas fa-check-circle"></i> checked -->
      <!-- <i class="far fa-check-circle"></i> uncheck -->
      <div class="dialog__header">
        <span class="dialog__header-title">Tạo nhóm</span>
        <div class="dialog__header-close"><i class="fas fa-times"></i></div>
      </div>

      <div class="col-sm-12" style="background-color:#ccc;"></div>
      <div class="dialog__name">
        <span class="dialog-title">Tên nhóm</span>
        <input type="text" id="name-group" class="dialog__name-input" placeholder="Nhập tên nhóm">        
      </div>

      <div class="dialog__group">
        <span class="dialog-title" id="count-user-checked">Mời thêm bạn vào cuộc trò chuyện (2) người</span>
        <input type="text" class="dialog__group-input" placeholder="Nhập tên muốn tìm">        
      </div>

      <div class="dialog__option">
        <div class="dialog__option-container" name="filter-user-dialog" data-option="all">
          <div class="fake-padding">
            <span class="dialog__option-text">Tất cả</span>
          </div>
        </div>
        <div class="dialog__option-container active" name="filter-user-dialog" data-option="in_list">
          <div class="fake-padding">
            <span class="dialog__option-text">Đang trò chuyện</span>
          </div>
        </div>
        <div class="dialog__option-container" name="filter-user-dialog" data-option="checked">
          <div class="fake-padding">
            <span class="dialog__option-text">Đã chọn</span>
          </div>
        </div>
        
      </div>

      <div class="dialog__choose">
        <div class="dialog__choose-checked" id="user-choose">
          <!-- <div class="dialog__choose-checked-item">
            <div class="fake-padding">
              <span class="dialog__choose-checked-item-name">Tien</span>
              <div class="container-close">
                <i class="fas fa-times"></i>
              </div>
            </div>
          </div> -->
        </div>
        <span class="dialog-title">Trò chuyện gần đây</span>
        <div class="dialog__choose-list" id="list-receiver-dialog">
          <!-- <div class="dialog__choose-item">
            <input type="checkbox" name="" id="" class="dialog__choose-item-input" data-name="Tien">
            <label for="" class="dialog__choose-item-label">Tien</label>
          </div> -->
        </div>
      </div>
      <div class="col-sm-12" style="background-color:#ccc;"></div>
      <div class="dialog__footer">
        <div class="dialog__footer-container">
          <button class="dialog__footer-btn cancel" id="btn-cancel">Hủy</button>
          <button class="dialog__footer-btn create" id="btn-create-group-chat">Tạo nhóm</button>
        </div>
      </div>
    </div>

    

    <div class="d-flex justify-content-between">
      <h1 class="pb-5">Chat</h1>
      <div class="d-flex">
        <h3 id="username" data-name="<%- username%>"><%- nickname%></h3>
        <a href="/auth/logout" class="btn btn-primary ml-4 text-white logo">Logout</a>
      </div>
    </div>

    

    <div class="row">
      <div class="col-3">
        <ul id="list-chat-user" class="list-group">

        </ul>
      </div>
      
      <div class="col-6 container-chat">
        <ul class="list-group bg-secondary" id="list-message">
          <%for(var i = 0; i < messages.length; i++){%>
            <%if (messages[i].sender === currentUser){%>
              <li class="list-group-item list-group-item-success list-group-message message-item"
              style="margin-left:auto"><%-messages[i].message%></li>
            <%}else if (messages[i].sender === 'empty'){%>
              <li class="list-group-item list-group-item-danger list-group-message message-item"
              style="margin-left:auto; margin-right: auto"><%-messages[i].message%></li>

            <%}else{%>
              <li class="list-group-item list-group-item-secondary list-group-message message-item" 
              style="margin-right: auto"><%-messages[i].message%></li>
            <%}%>
          <%}%>
                    
        </ul>
        <ul class="list-group bg-secondary" id="list-message-hide" hidden="hidden"></ul>

          <div class="input-group container-send-message mb-3 mt-3">
              <input id="input-send-message"type="text" class="form-control" placeholder="Send some message ...">
              <button class="btn btn-outline-secondary" type="button" id="btn-send-message" data-idroom=<%-idRoom%>>Send</button>
          </div>
      </div>
      <div class="col-3">
        <div class="dialog__option">
          <div class="dialog__option-container active" name="filter-list-total-user" data-option="personal">
            <div class="fake-padding">
              <span class="dialog__option-text">Cá nhân</span>
            </div>
          </div>
          <div class="dialog__option-container" name="filter-list-total-user" data-option="group">
            <div class="fake-padding">
              <span class="dialog__option-text">Nhóm</span>
            </div>
          </div>
        </div>
        <ul class="list-group" id="list-total-user">
        </ul>
      </div>
    </div>
    
  </div>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script src="/js/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="/js/home.js"></script>
</body>
</html>